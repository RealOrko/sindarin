// Test Date calendar display patterns from documentation
//
// Shows calendar-related Date operations without loop-based rendering

fn main(): int =>
    print("Testing Date calendar display patterns...\n")
    print("=========================================\n\n")

    // Calendar header and properties for January 2025
    print("Calendar properties (January 2025):\n")
    print("-----------------------------------\n")
    var jan1: Date = Date.fromYmd(2025, 1, 1)
    print($"Month: {jan1.format("MMMM YYYY")}\n")
    print($"First day: {jan1.format("dddd")} (weekday {jan1.weekday()})\n")
    print($"Days in month: {jan1.daysInMonth()}\n")
    print($"Last day: {jan1.endOfMonth().format("dddd")}\n")
    print("\n")

    // February 2024 (leap year - 29 days)
    print("February 2024 (leap year):\n")
    print("--------------------------\n")
    var feb1_2024: Date = Date.fromYmd(2024, 2, 1)
    print($"Month: {feb1_2024.format("MMMM YYYY")}\n")
    print($"First day: {feb1_2024.format("dddd")} (weekday {feb1_2024.weekday()})\n")
    print($"Days in month: {feb1_2024.daysInMonth()}\n")
    print($"Feb 29 exists: {Date.fromYmd(2024, 2, 29).toIso()}\n")
    print("\n")

    // February 2025 (non-leap year - 28 days)
    print("February 2025 (non-leap year):\n")
    print("------------------------------\n")
    var feb1_2025: Date = Date.fromYmd(2025, 2, 1)
    print($"Month: {feb1_2025.format("MMMM YYYY")}\n")
    print($"First day: {feb1_2025.format("dddd")} (weekday {feb1_2025.weekday()})\n")
    print($"Days in month: {feb1_2025.daysInMonth()}\n")
    print("\n")

    // Week view
    print("Week view (June 15-21, 2025):\n")
    print("-----------------------------\n")
    var weekStart: Date = Date.fromYmd(2025, 6, 15)  // Sunday
    print($"Week of {weekStart.format("MMMM D, YYYY")}\n")
    print($"  Sun: {weekStart.format("M/D")} isWeekend={weekStart.isWeekend()}\n")
    print($"  Mon: {weekStart.addDays(1).format("M/D")} isWeekday={weekStart.addDays(1).isWeekday()}\n")
    print($"  Tue: {weekStart.addDays(2).format("M/D")} isWeekday={weekStart.addDays(2).isWeekday()}\n")
    print($"  Wed: {weekStart.addDays(3).format("M/D")} isWeekday={weekStart.addDays(3).isWeekday()}\n")
    print($"  Thu: {weekStart.addDays(4).format("M/D")} isWeekday={weekStart.addDays(4).isWeekday()}\n")
    print($"  Fri: {weekStart.addDays(5).format("M/D")} isWeekday={weekStart.addDays(5).isWeekday()}\n")
    print($"  Sat: {weekStart.addDays(6).format("M/D")} isWeekend={weekStart.addDays(6).isWeekend()}\n")
    print("\n")

    // Year summary
    print("Year summary (2025):\n")
    print("--------------------\n")

    var jan: Date = Date.fromYmd(2025, 1, 1)
    var feb: Date = Date.fromYmd(2025, 2, 1)
    var mar: Date = Date.fromYmd(2025, 3, 1)
    var apr: Date = Date.fromYmd(2025, 4, 1)
    var may: Date = Date.fromYmd(2025, 5, 1)
    var jun: Date = Date.fromYmd(2025, 6, 1)
    var jul: Date = Date.fromYmd(2025, 7, 1)
    var aug: Date = Date.fromYmd(2025, 8, 1)
    var sep: Date = Date.fromYmd(2025, 9, 1)
    var oct: Date = Date.fromYmd(2025, 10, 1)
    var nov: Date = Date.fromYmd(2025, 11, 1)
    var dec: Date = Date.fromYmd(2025, 12, 1)

    print($"  {jan.format("MMM")}: {jan.daysInMonth()} days, starts {jan.format("ddd")}\n")
    print($"  {feb.format("MMM")}: {feb.daysInMonth()} days, starts {feb.format("ddd")}\n")
    print($"  {mar.format("MMM")}: {mar.daysInMonth()} days, starts {mar.format("ddd")}\n")
    print($"  {apr.format("MMM")}: {apr.daysInMonth()} days, starts {apr.format("ddd")}\n")
    print($"  {may.format("MMM")}: {may.daysInMonth()} days, starts {may.format("ddd")}\n")
    print($"  {jun.format("MMM")}: {jun.daysInMonth()} days, starts {jun.format("ddd")}\n")
    print($"  {jul.format("MMM")}: {jul.daysInMonth()} days, starts {jul.format("ddd")}\n")
    print($"  {aug.format("MMM")}: {aug.daysInMonth()} days, starts {aug.format("ddd")}\n")
    print($"  {sep.format("MMM")}: {sep.daysInMonth()} days, starts {sep.format("ddd")}\n")
    print($"  {oct.format("MMM")}: {oct.daysInMonth()} days, starts {oct.format("ddd")}\n")
    print($"  {nov.format("MMM")}: {nov.daysInMonth()} days, starts {nov.format("ddd")}\n")
    print($"  {dec.format("MMM")}: {dec.daysInMonth()} days, starts {dec.format("ddd")}\n")
    print("\n")

    // Calendar verification
    print("Calendar verification:\n")
    print("----------------------\n")

    // January 2025 starts on Wednesday (weekday 3)
    print($"  Jan 1, 2025 is {jan1.format("dddd")} (weekday {jan1.weekday()})\n")
    print($"  Expected: Wednesday (3) - {jan1.weekday() == 3}\n")

    // December 31, 2025 is Wednesday
    var dec31: Date = Date.fromYmd(2025, 12, 31)
    print($"  Dec 31, 2025 is {dec31.format("dddd")} (weekday {dec31.weekday()})\n")
    print($"  Expected: Wednesday (3) - {dec31.weekday() == 3}\n")

    // 2024 has 366 days (leap year)
    var leapStart: Date = Date.fromYmd(2024, 1, 1)
    var leapEnd: Date = Date.fromYmd(2024, 12, 31)
    var leapDays: int = leapEnd.diffDays(leapStart) + 1
    print($"  2024 has {leapDays} days (leap year)\n")
    print($"  Expected: 366 - {leapDays == 366}\n")

    // 2025 has 365 days (non-leap year)
    var nonLeapStart: Date = Date.fromYmd(2025, 1, 1)
    var nonLeapEnd: Date = Date.fromYmd(2025, 12, 31)
    var nonLeapDays: int = nonLeapEnd.diffDays(nonLeapStart) + 1
    print($"  2025 has {nonLeapDays} days (non-leap year)\n")
    print($"  Expected: 365 - {nonLeapDays == 365}\n")

    // Day of year tests
    print("\n  Day of year:\n")
    var jan1_doy: int = Date.fromYmd(2025, 1, 1).dayOfYear()
    var dec31_doy: int = Date.fromYmd(2025, 12, 31).dayOfYear()
    var dec31_leap_doy: int = Date.fromYmd(2024, 12, 31).dayOfYear()
    print($"    Jan 1, 2025: day {jan1_doy} (expected 1) - {jan1_doy == 1}\n")
    print($"    Dec 31, 2025: day {dec31_doy} (expected 365) - {dec31_doy == 365}\n")
    print($"    Dec 31, 2024: day {dec31_leap_doy} (expected 366) - {dec31_leap_doy == 366}\n")

    print("\n=========================================\n")
    print("All calendar patterns complete - PASS\n")

    return 0
