# Test Path utilities

fn main(): int =>
    # Test Path.directory - extract directory portion
    var dir1: str = Path.directory("/home/user/file.txt")
    print("directory of /home/user/file.txt: ")
    println(dir1)

    var dir2: str = Path.directory("/home/user/")
    print("directory of /home/user/: ")
    println(dir2)

    var dir3: str = Path.directory("file.txt")
    print("directory of file.txt: ")
    println(dir3)

    var dir4: str = Path.directory("/file.txt")
    print("directory of /file.txt: ")
    println(dir4)

    # Test Path.filename - extract filename
    var name1: str = Path.filename("/home/user/file.txt")
    print("filename of /home/user/file.txt: ")
    println(name1)

    var name2: str = Path.filename("file.txt")
    print("filename of file.txt: ")
    println(name2)

    var name3: str = Path.filename("/home/user/")
    print("filename of /home/user/: ")
    println(name3)

    # Test Path.extension - extract file extension
    var ext1: str = Path.extension("/home/user/file.txt")
    print("extension of file.txt: ")
    println(ext1)

    var ext2: str = Path.extension("/home/user/file.tar.gz")
    print("extension of file.tar.gz: ")
    println(ext2)

    var ext3: str = Path.extension("/home/user/.bashrc")
    print("extension of .bashrc: ")
    println(ext3)

    var ext4: str = Path.extension("/home/user/file")
    print("extension of file (no ext): ")
    println(ext4)

    # Test Path.join - join path components
    var joined1: str = Path.join("/home", "user")
    print("join /home, user: ")
    println(joined1)

    var joined2: str = Path.join("/home/", "user")
    print("join /home/, user: ")
    println(joined2)

    var joined3: str = Path.join("/home", "user", "file.txt")
    print("join /home, user, file.txt: ")
    println(joined3)

    # Test with absolute second arg
    var joined4: str = Path.join("/home", "/absolute/path")
    print("join /home, /absolute/path: ")
    println(joined4)

    # Test Path.exists, Path.isFile, Path.isDirectory
    # Use paths that definitely exist
    var exists1: bool = Path.exists("/")
    print("exists /: ")
    println(exists1)

    var exists2: bool = Path.exists("/nonexistent/path/xyz")
    print("exists /nonexistent/path/xyz: ")
    println(exists2)

    var isDir1: bool = Path.isDirectory("/")
    print("isDirectory /: ")
    println(isDir1)

    var isFile1: bool = Path.isFile("/")
    print("isFile /: ")
    println(isFile1)

    # Test on self (the test file)
    var testDir: str = Path.directory("compiler/tests/integration/test_path.sn")
    print("directory of test file: ")
    println(testDir)

    var testName: str = Path.filename("compiler/tests/integration/test_path.sn")
    print("filename of test file: ")
    println(testName)

    var testExt: str = Path.extension("compiler/tests/integration/test_path.sn")
    print("extension of test file: ")
    println(testExt)

    println("All path tests completed!")
    return 0
