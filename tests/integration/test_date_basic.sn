// Test Date type basic operations: creation, formatting, getters

fn main(): int =>
    // Test Date.fromYmd() - basic date creation
    print("=== Date Creation ===\n")
    var d1: Date = Date.fromYmd(2025, 6, 15)
    print($"fromYmd(2025, 6, 15): {d1.toIso()}\n")

    // Test Date.fromString() - parsing ISO format
    var d2: Date = Date.fromString("2025-12-25")
    print($"fromString(\"2025-12-25\"): {d2.toIso()}\n")

    // Test Date.fromEpochDays()
    var d3: Date = Date.fromEpochDays(0)
    print($"fromEpochDays(0): {d3.toIso()}\n")

    var d4: Date = Date.fromEpochDays(20088)
    print($"fromEpochDays(20088): {d4.toIso()}\n")

    // Test static utility methods
    print("\n=== Static Utility Methods ===\n")
    print($"isLeapYear(2024): {Date.isLeapYear(2024)}\n")
    print($"isLeapYear(2025): {Date.isLeapYear(2025)}\n")
    print($"isLeapYear(2000): {Date.isLeapYear(2000)}\n")
    print($"isLeapYear(1900): {Date.isLeapYear(1900)}\n")

    print($"daysInMonth(2024, 2): {Date.daysInMonth(2024, 2)}\n")
    print($"daysInMonth(2025, 2): {Date.daysInMonth(2025, 2)}\n")
    print($"daysInMonth(2025, 1): {Date.daysInMonth(2025, 1)}\n")
    print($"daysInMonth(2025, 4): {Date.daysInMonth(2025, 4)}\n")

    // Test getter methods
    print("\n=== Getter Methods ===\n")
    var d: Date = Date.fromYmd(2025, 7, 4)
    print($"Date: {d.toIso()}\n")
    print($"year(): {d.year()}\n")
    print($"month(): {d.month()}\n")
    print($"day(): {d.day()}\n")
    print($"weekday(): {d.weekday()}\n")
    print($"dayOfYear(): {d.dayOfYear()}\n")
    print($"epochDays(): {d.epochDays()}\n")
    print($"daysInMonth(): {d.daysInMonth()}\n")
    print($"isLeapYear(): {d.isLeapYear()}\n")
    print($"isWeekend(): {d.isWeekend()}\n")
    print($"isWeekday(): {d.isWeekday()}\n")

    // Test formatting methods
    print("\n=== Formatting Methods ===\n")
    var xmas: Date = Date.fromYmd(2025, 12, 25)
    print($"toIso(): {xmas.toIso()}\n")
    print($"toString(): {xmas.toString()}\n")

    // Test format() with various patterns
    print($"format(\"YYYY-MM-DD\"): {xmas.format("YYYY-MM-DD")}\n")
    print($"format(\"M/D/YYYY\"): {xmas.format("M/D/YYYY")}\n")
    print($"format(\"DD/MM/YYYY\"): {xmas.format("DD/MM/YYYY")}\n")
    print($"format(\"MMMM D, YYYY\"): {xmas.format("MMMM D, YYYY")}\n")
    print($"format(\"ddd, MMM D\"): {xmas.format("ddd, MMM D")}\n")
    print($"format(\"dddd\"): {xmas.format("dddd")}\n")

    // Test weekday names for known date
    print("\n=== Weekday Verification ===\n")
    // 2025-01-01 is a Wednesday (weekday 3)
    var jan1: Date = Date.fromYmd(2025, 1, 1)
    print($"2025-01-01 weekday: {jan1.weekday()}\n")
    print($"2025-01-01 dddd: {jan1.format("dddd")}\n")

    print("\nPASS\n")
    return 0
