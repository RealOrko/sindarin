// Test Date type arithmetic operations and comparisons

fn main(): int =>
    // Test addDays()
    print("=== addDays ===\n")
    var d1: Date = Date.fromYmd(2025, 1, 15)
    print($"Start: {d1.toIso()}\n")
    print($"addDays(10): {d1.addDays(10).toIso()}\n")
    print($"addDays(-10): {d1.addDays(-10).toIso()}\n")
    print($"addDays(0): {d1.addDays(0).toIso()}\n")

    // Test addWeeks()
    print("\n=== addWeeks ===\n")
    print($"addWeeks(2): {d1.addWeeks(2).toIso()}\n")
    print($"addWeeks(-1): {d1.addWeeks(-1).toIso()}\n")

    // Test addMonths()
    print("\n=== addMonths ===\n")
    var d2: Date = Date.fromYmd(2025, 3, 15)
    print($"Start: {d2.toIso()}\n")
    print($"addMonths(1): {d2.addMonths(1).toIso()}\n")
    print($"addMonths(3): {d2.addMonths(3).toIso()}\n")
    print($"addMonths(-2): {d2.addMonths(-2).toIso()}\n")
    print($"addMonths(12): {d2.addMonths(12).toIso()}\n")

    // Test addYears()
    print("\n=== addYears ===\n")
    var d3: Date = Date.fromYmd(2025, 6, 15)
    print($"Start: {d3.toIso()}\n")
    print($"addYears(1): {d3.addYears(1).toIso()}\n")
    print($"addYears(5): {d3.addYears(5).toIso()}\n")
    print($"addYears(-10): {d3.addYears(-10).toIso()}\n")

    // Test diffDays()
    print("\n=== diffDays ===\n")
    var start: Date = Date.fromYmd(2025, 1, 1)
    var end: Date = Date.fromYmd(2025, 1, 10)
    print($"From: {start.toIso()}\n")
    print($"To: {end.toIso()}\n")
    print($"end.diffDays(start): {end.diffDays(start)}\n")
    print($"start.diffDays(end): {start.diffDays(end)}\n")

    // Days in year
    var yearStart: Date = Date.fromYmd(2025, 1, 1)
    var yearEnd: Date = Date.fromYmd(2025, 12, 31)
    print($"Days in 2025: {yearEnd.diffDays(yearStart)}\n")

    var leapYearStart: Date = Date.fromYmd(2024, 1, 1)
    var leapYearEnd: Date = Date.fromYmd(2024, 12, 31)
    print($"Days in 2024 (leap): {leapYearEnd.diffDays(leapYearStart)}\n")

    // Test boundary methods
    print("\n=== Boundary Methods ===\n")
    var mid: Date = Date.fromYmd(2025, 6, 15)
    print($"Date: {mid.toIso()}\n")
    print($"startOfMonth(): {mid.startOfMonth().toIso()}\n")
    print($"endOfMonth(): {mid.endOfMonth().toIso()}\n")
    print($"startOfYear(): {mid.startOfYear().toIso()}\n")
    print($"endOfYear(): {mid.endOfYear().toIso()}\n")

    // February boundary
    var feb: Date = Date.fromYmd(2024, 2, 15)
    print($"Feb 2024 start: {feb.startOfMonth().toIso()}\n")
    print($"Feb 2024 end: {feb.endOfMonth().toIso()}\n")

    // Test comparison methods
    print("\n=== Comparisons ===\n")
    var d4: Date = Date.fromYmd(2025, 1, 1)
    var d5: Date = Date.fromYmd(2025, 12, 31)
    var d6: Date = Date.fromYmd(2025, 1, 1)
    print($"d4: {d4.toIso()}\n")
    print($"d5: {d5.toIso()}\n")
    print($"d6: {d6.toIso()}\n")

    print($"d4.isBefore(d5): {d4.isBefore(d5)}\n")
    print($"d5.isBefore(d4): {d5.isBefore(d4)}\n")
    print($"d4.isAfter(d5): {d4.isAfter(d5)}\n")
    print($"d5.isAfter(d4): {d5.isAfter(d4)}\n")
    print($"d4.equals(d6): {d4.equals(d6)}\n")
    print($"d4.equals(d5): {d4.equals(d5)}\n")

    // Same date comparisons
    print($"d4.isBefore(d4): {d4.isBefore(d4)}\n")
    print($"d4.isAfter(d4): {d4.isAfter(d4)}\n")
    print($"d4.equals(d4): {d4.equals(d4)}\n")

    print("\nPASS\n")
    return 0
