// Test basic async Process spawn and wait pattern
// Cross-platform using Python

fn main(): int =>
    var p: Process = &Process.run("python", {"-c", "print('async test')"})
    print("spawned\n")
    p!
    print($"result: {p.stdout.trim()}\n")
    print($"exit: {p.exitCode}\n")

    return 0
