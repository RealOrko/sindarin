// Test 72: TextFile instance writing methods variance testing
fn main(): int =>
    print("Test TextFile instance writing methods:\n\n")

    // Test 1: write() - single string
    print("1. write() single string:\n")
    var f1: TextFile = TextFile.open("/tmp/test_tf_72_1.txt")
    f1.write("Hello World")
    f1.close()
    var read1: str = TextFile.readAll("/tmp/test_tf_72_1.txt")
    print($"  Written: 'Hello World'\n")
    print($"  Read: '{read1}'\n")
    if read1 == "Hello World" =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_1.txt")

    // Test 2: write() - multiple writes
    print("\n2. write() multiple writes:\n")
    var f2: TextFile = TextFile.open("/tmp/test_tf_72_2.txt")
    f2.write("First")
    f2.write(" ")
    f2.write("Second")
    f2.write(" ")
    f2.write("Third")
    f2.close()
    var read2: str = TextFile.readAll("/tmp/test_tf_72_2.txt")
    print($"  Read: '{read2}'\n")
    if read2 == "First Second Third" =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_2.txt")

    // Test 3: writeLine() - single line
    print("\n3. writeLine() single line:\n")
    var f3: TextFile = TextFile.open("/tmp/test_tf_72_3.txt")
    f3.writeLine("Line One")
    f3.close()
    var read3: str = TextFile.readAll("/tmp/test_tf_72_3.txt")
    print($"  Read length: {read3.length}\n")
    if read3 == "Line One\n" =>
        print("  PASS: Includes newline\n")
    else =>
        print("  FAIL: Should end with newline\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_3.txt")

    // Test 4: writeLine() - multiple lines
    print("\n4. writeLine() multiple lines:\n")
    var f4: TextFile = TextFile.open("/tmp/test_tf_72_4.txt")
    f4.writeLine("Line 1")
    f4.writeLine("Line 2")
    f4.writeLine("Line 3")
    f4.close()
    var read4: str = TextFile.readAll("/tmp/test_tf_72_4.txt")
    if read4 == "Line 1\nLine 2\nLine 3\n" =>
        print("  PASS: 3 lines with newlines\n")
    else =>
        print("  FAIL: Content mismatch\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_4.txt")

    // Test 5: writeChar()
    print("\n5. writeChar():\n")
    var f5: TextFile = TextFile.open("/tmp/test_tf_72_5.txt")
    f5.writeChar('A')
    f5.writeChar('B')
    f5.writeChar('C')
    f5.writeChar('\n')
    f5.close()
    var read5: str = TextFile.readAll("/tmp/test_tf_72_5.txt")
    print($"  Read: '{read5}'\n")
    if read5 == "ABC\n" =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_5.txt")

    // Test 6: print() - same as write
    print("\n6. print():\n")
    var f6: TextFile = TextFile.open("/tmp/test_tf_72_6.txt")
    f6.print("Test ")
    f6.print("Output")
    f6.close()
    var read6: str = TextFile.readAll("/tmp/test_tf_72_6.txt")
    if read6 == "Test Output" =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_6.txt")

    // Test 7: println()
    print("\n7. println():\n")
    var f7: TextFile = TextFile.open("/tmp/test_tf_72_7.txt")
    f7.println("First")
    f7.println("Second")
    f7.close()
    var read7: str = TextFile.readAll("/tmp/test_tf_72_7.txt")
    if read7 == "First\nSecond\n" =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_7.txt")

    // Test 8: Write with string interpolation
    print("\n8. Write with interpolation:\n")
    var f8: TextFile = TextFile.open("/tmp/test_tf_72_8.txt")
    var name: str = "Alice"
    var age: int = 30
    f8.println($"Name: {name}")
    f8.println($"Age: {age}")
    f8.println($"Sum: {10 + 20}")
    f8.close()
    var read8: str = TextFile.readAll("/tmp/test_tf_72_8.txt")
    if read8 == "Name: Alice\nAge: 30\nSum: 30\n" =>
        print("  PASS: Interpolation works in file output\n")
    else =>
        print($"  FAIL: Got '{read8}'\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_8.txt")

    // Test 9: Mixed write methods
    print("\n9. Mixed write methods:\n")
    var f9: TextFile = TextFile.open("/tmp/test_tf_72_9.txt")
    f9.write("Inline: ")
    f9.writeLine("line end")
    f9.writeChar('X')
    f9.writeChar('Y')
    f9.print(" middle ")
    f9.println("done")
    f9.close()
    var read9: str = TextFile.readAll("/tmp/test_tf_72_9.txt")
    print($"  Read: '{read9}'\n")
    if read9 == "Inline: line end\nXY middle done\n" =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_9.txt")

    // Test 10: Write empty string
    print("\n10. Write empty string:\n")
    var f10: TextFile = TextFile.open("/tmp/test_tf_72_10.txt")
    f10.write("before")
    f10.write("")
    f10.write("after")
    f10.close()
    var read10: str = TextFile.readAll("/tmp/test_tf_72_10.txt")
    if read10 == "beforeafter" =>
        print("  PASS: Empty write is no-op\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_10.txt")

    // Test 11: flush()
    print("\n11. flush():\n")
    var f11: TextFile = TextFile.open("/tmp/test_tf_72_11.txt")
    f11.write("Data to flush")
    f11.flush()
    f11.close()
    var read11: str = TextFile.readAll("/tmp/test_tf_72_11.txt")
    if read11 == "Data to flush" =>
        print("  PASS: flush worked\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_11.txt")

    // Test 12: Write large content
    print("\n12. Write large content:\n")
    var f12: TextFile = TextFile.open("/tmp/test_tf_72_12.txt")
    var i: int = 0
    for i in 0..100 =>
        f12.println($"Line number {i}")
    f12.close()
    var f12r: TextFile = TextFile.open("/tmp/test_tf_72_12.txt")
    var lineCount: int = 0
    while f12r.hasLines() =>
        var discard: str = f12r.readLine()
        lineCount = lineCount + 1
    f12r.close()
    print($"  Lines written/read: {lineCount}\n")
    if lineCount == 100 =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    TextFile.delete("/tmp/test_tf_72_12.txt")

    print("\nAll TextFile writing method tests passed!\n")
    return 0
