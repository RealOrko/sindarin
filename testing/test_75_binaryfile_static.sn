# Test 75: BinaryFile static methods variance testing
fn main(): int =>
    print("Test BinaryFile static methods:\n\n")

    # Test 1: writeAll and readAll basic
    print("1. writeAll/readAll basic:\n")
    var data1: byte[] = {72, 101, 108, 108, 111}
    BinaryFile.writeAll("/tmp/test_bf_75_1.bin", data1)
    var read1: byte[] = BinaryFile.readAll("/tmp/test_bf_75_1.bin")
    print($"  Written: {len(data1)} bytes\n")
    print($"  Read: {len(read1)} bytes\n")
    if len(read1) == 5 && read1[0] == 72 && read1[4] == 111 =>
        print("  PASS: Content matches\n")
    else =>
        print("  FAIL: Content mismatch\n")
        return 1

    # Test 2: exists - file exists
    print("\n2. exists - file exists:\n")
    var exists1: bool = BinaryFile.exists("/tmp/test_bf_75_1.bin")
    print($"  exists('/tmp/test_bf_75_1.bin'): {exists1}\n")
    if exists1 =>
        print("  PASS\n")
    else =>
        print("  FAIL: Should exist\n")
        return 1

    # Test 3: exists - file does not exist
    print("\n3. exists - non-existent file:\n")
    var exists2: bool = BinaryFile.exists("/tmp/nonexistent_xyz_12345.bin")
    print($"  exists('/tmp/nonexistent_xyz_12345.bin'): {exists2}\n")
    if !exists2 =>
        print("  PASS\n")
    else =>
        print("  FAIL: Should not exist\n")
        return 1

    # Test 4: copy
    print("\n4. copy:\n")
    BinaryFile.copy("/tmp/test_bf_75_1.bin", "/tmp/test_bf_75_copy.bin")
    var readCopy: byte[] = BinaryFile.readAll("/tmp/test_bf_75_copy.bin")
    if len(readCopy) == 5 && readCopy[0] == 72 =>
        print("  PASS: Copy content matches\n")
    else =>
        print("  FAIL: Copy content mismatch\n")
        return 1

    # Test 5: move
    print("\n5. move:\n")
    BinaryFile.move("/tmp/test_bf_75_copy.bin", "/tmp/test_bf_75_moved.bin")
    var existsCopy: bool = BinaryFile.exists("/tmp/test_bf_75_copy.bin")
    var existsMoved: bool = BinaryFile.exists("/tmp/test_bf_75_moved.bin")
    print($"  Source exists after move: {existsCopy}\n")
    print($"  Dest exists after move: {existsMoved}\n")
    if !existsCopy && existsMoved =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1

    # Test 6: delete
    print("\n6. delete:\n")
    BinaryFile.delete("/tmp/test_bf_75_1.bin")
    BinaryFile.delete("/tmp/test_bf_75_moved.bin")
    var deleted1: bool = BinaryFile.exists("/tmp/test_bf_75_1.bin")
    var deleted2: bool = BinaryFile.exists("/tmp/test_bf_75_moved.bin")
    if !deleted1 && !deleted2 =>
        print("  PASS: Files deleted\n")
    else =>
        print("  FAIL: Files still exist\n")
        return 1

    # Test 7: writeAll overwrite
    print("\n7. writeAll overwrite:\n")
    var origData: byte[] = {1, 2, 3, 4, 5}
    var newData: byte[] = {10, 20}
    BinaryFile.writeAll("/tmp/test_bf_75_overwrite.bin", origData)
    BinaryFile.writeAll("/tmp/test_bf_75_overwrite.bin", newData)
    var overwritten: byte[] = BinaryFile.readAll("/tmp/test_bf_75_overwrite.bin")
    print($"  After overwrite length: {len(overwritten)}\n")
    if len(overwritten) == 2 && overwritten[0] == 10 =>
        print("  PASS\n")
    else =>
        print("  FAIL: Should have new content\n")
        return 1
    BinaryFile.delete("/tmp/test_bf_75_overwrite.bin")

    # Test 8: Empty byte array write
    print("\n8. Empty byte array write:\n")
    var emptyData: byte[] = {}
    BinaryFile.writeAll("/tmp/test_bf_75_empty.bin", emptyData)
    var emptyRead: byte[] = BinaryFile.readAll("/tmp/test_bf_75_empty.bin")
    print($"  Empty file length: {len(emptyRead)}\n")
    if len(emptyRead) == 0 =>
        print("  PASS\n")
    else =>
        print("  FAIL: Should be empty\n")
        return 1
    BinaryFile.delete("/tmp/test_bf_75_empty.bin")

    # Test 9: Single byte
    print("\n9. Single byte:\n")
    var singleData: byte[] = {255}
    BinaryFile.writeAll("/tmp/test_bf_75_single.bin", singleData)
    var singleRead: byte[] = BinaryFile.readAll("/tmp/test_bf_75_single.bin")
    print($"  Single byte value: {singleRead[0]}\n")
    if len(singleRead) == 1 && singleRead[0] == 255 =>
        print("  PASS\n")
    else =>
        print("  FAIL\n")
        return 1
    BinaryFile.delete("/tmp/test_bf_75_single.bin")

    # Test 10: Byte boundary values (0 and 255)
    print("\n10. Byte boundary values:\n")
    var boundaryData: byte[] = {0, 1, 127, 128, 254, 255}
    BinaryFile.writeAll("/tmp/test_bf_75_boundary.bin", boundaryData)
    var boundaryRead: byte[] = BinaryFile.readAll("/tmp/test_bf_75_boundary.bin")
    if len(boundaryRead) == 6 =>
        print($"  byte 0: {boundaryRead[0]}\n")
        print($"  byte 1: {boundaryRead[1]}\n")
        print($"  byte 127: {boundaryRead[2]}\n")
        print($"  byte 128: {boundaryRead[3]}\n")
        print($"  byte 254: {boundaryRead[4]}\n")
        print($"  byte 255: {boundaryRead[5]}\n")
        if boundaryRead[0] == 0 && boundaryRead[5] == 255 =>
            print("  PASS\n")
        else =>
            print("  FAIL: Values mismatch\n")
            return 1
    else =>
        print("  FAIL: Wrong length\n")
        return 1
    BinaryFile.delete("/tmp/test_bf_75_boundary.bin")

    print("\nAll BinaryFile static method tests passed!\n")
    return 0
